{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/Microphone/AudioVisualiser.js","../src/Microphone/AudioAnalyser.js","../src/Microphone/microphone.js","../src/Camera/Camera.js","../src/Error/Error.js","../src/Audio/Audio.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react';\nimport styles from './../styles.css';\n\nclass AudioVisualiser extends Component {\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n  }\n\n  componentDidUpdate() {\n    this.draw();\n  }\n\n  draw() {\n    const { audioData } = this.props;\n    const canvas = this.canvas.current;\n    const height = canvas.height;\n    const width = canvas.width;\n    const context = canvas.getContext('2d');\n    let x = 0;\n    const sliceWidth = (width * 1.0) / audioData.length;\n\n    context.lineWidth = 2;\n    context.strokeStyle = '#ffffff';\n    context.clearRect(0, 0, width, height);\n\n    context.beginPath();\n    context.moveTo(0, height / 2);\n    for (const item of audioData) {\n      const y = (item / 255.0) * height;\n      context.lineTo(x, y);\n      x += sliceWidth;\n    }\n    context.lineTo(x, height / 2);\n    context.stroke();\n  }\n\n  render() {\n    return (\n      <canvas id={`${styles.canvasAudio}`} height=\"300\" ref={this.canvas} />\n    );\n  }\n}\n\nexport default AudioVisualiser;\n","import React, { Component } from 'react';\nimport AudioVisualiser from './AudioVisualiser';\n\nimport styles from './../styles.css';\n\nclass AudioAnalyser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { audioData: new Uint8Array(0) };\n    this.tick = this.tick.bind(this);\n  }\n\n  componentDidMount() {\n    this.audioContext = new (window.AudioContext ||\n      window.webkitAudioContext)();\n\n    this.analyser = this.audioContext.createAnalyser();\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n    this.props.audio.then(result => {\n      this.source = this.audioContext.createMediaStreamSource(result);\n      this.source.connect(this.analyser);\n      this.rafId = requestAnimationFrame(this.tick);\n    });\n  }\n\n  tick() {\n    this.analyser.getByteTimeDomainData(this.dataArray);\n    this.setState({ audioData: this.dataArray });\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  componentWillUnmount() {\n    cancelAnimationFrame(this.rafId);\n    this.analyser.disconnect();\n    this.source.disconnect();\n  }\n\n  render() {\n    return (\n      <div className={`column column-33 ${styles.boxCanvas} `}>\n        <AudioVisualiser\n          audioData={this.state.audioData}\n          audioContext={this.audioContext}\n        />\n      </div>\n    );\n  }\n}\n\nexport default AudioAnalyser;\n","import React, { Component, Fragment } from 'react';\nimport AudioAnalyser from './AudioAnalyser';\n// import PropTypes from 'prop-types';\n\nimport styles from './../styles.css';\n\nexport default class Microphone extends Component {\n  state = {\n    audio: null,\n    audioSelect: null,\n    listAudios: [],\n    valueAudio: ''\n  };\n  audioinput = [];\n  elementRef = new React.createRef();\n  enumerateDevices = new Promise(resolve => {\n    resolve(navigator.mediaDevices.enumerateDevices());\n  });\n\n  constructor(props) {\n    super(props);\n    this.toggleMicrophone = this.toggleMicrophone.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const constraints = {\n      audio: {\n        deviceId: event.target.value ? { exact: event.target.value } : undefined\n      },\n      video: false\n    };\n\n    this.props.changeKindId(false);\n\n    this.setState({\n      audioSelect: navigator.mediaDevices.getUserMedia(constraints),\n      value: event.target.value,\n      audio: false\n    });\n  }\n\n  componentDidMount() {\n    this.enumerateDevices\n      .then(devices => {\n        devices.map(device => {\n          if (device.kind == 'audioinput') {\n            this.audioinput.push({\n              id: device.deviceId,\n              kind: device.kind,\n              label: device.label\n            });\n          }\n        });\n        this.setState(prevState => ({\n          listAudios: [...prevState.listAudios, this.audioinput]\n        }));\n      })\n      .catch(function(err) {\n        console.log(`${err.name}: ${err.message}`);\n      });\n  }\n\n  getMicrophone() {\n    if (this.state.audioSelect) {\n      this.props.changeKindId(this.state.value);\n      this.setState({\n        audio: this.state.audioSelect\n      });\n    }\n  }\n\n  stopMicrophone() {\n    this.state.audio.then(audio => {\n      audio.getTracks().forEach(track => track.stop());\n    });\n    this.props.changeKindId(false);\n    this.setState({ audio: null });\n  }\n\n  toggleMicrophone() {\n    if (this.state.audio) {\n      this.stopMicrophone();\n    } else {\n      this.getMicrophone();\n    }\n  }\n\n  listMicrophones() {\n    const listMicrophone = this.state.listAudios[0];\n    return (\n      <select\n        disabled={this.state.audio !== null}\n        className={styles.selectAudio}\n        value={this.state.value}\n        onChange={this.handleChange}\n      >\n        <option value=\"\">Selecione</option>\n        {listMicrophone.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.label}\n          </option>\n        ))}\n      </select>\n    );\n  }\n\n  render() {\n    // const { text } = this.props;\n    return (\n      <div className={`column column-33 ${styles.marginRight}`}>\n        <Fragment>\n          <div className=\"column\">\n            <form action=\"javascript:void(0);\">\n              <fieldset>\n                <label htmlFor=\"microphone\">Selecione o seu microfone:</label>\n                {this.state.listAudios.length > 0 && this.listMicrophones()}\n                <button\n                  className=\"button button-outline\"\n                  onClick={this.toggleMicrophone}\n                  type=\"button\"\n                >\n                  {this.state.audio ? 'Parar microfone' : 'Teste seu microfone'}\n                </button>\n              </fieldset>\n            </form>\n          </div>\n        </Fragment>\n        {this.state.audio ? <AudioAnalyser audio={this.state.audio} /> : ''}\n      </div>\n    );\n  }\n}\n","import React, { Component, Fragment } from 'react';\n// import PropTypes from 'prop-types';\n\nimport styles from './../styles.css';\n\nexport default class Camera extends Component {\n  state = {\n    video: null,\n    videoSelect: null,\n    listVideos: [],\n    permission: true,\n    src: ''\n  };\n  videoinput = [];\n  player = null;\n  elementRef = new React.createRef();\n  enumerateDevices = new Promise(resolve => {\n    resolve(navigator.mediaDevices.enumerateDevices());\n  });\n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleCamera = this.toggleCamera.bind(this);\n  }\n\n  handleChange(event) {\n    const video = navigator.mediaDevices.getUserMedia({\n      audio: false,\n      video: {\n        deviceId: event.target.value ? { exact: event.target.value } : undefined\n      }\n    });\n\n    this.setState({\n      videoSelect: video,\n      value: event.target.value,\n      video: false\n    });\n  }\n\n  componentDidMount() {\n    this.player = this.elementRef.current;\n\n    this.enumerateDevices\n      .then(devices => {\n        devices.map(device => {\n          if (device.kind == 'videoinput') {\n            this.videoinput.push({\n              id: device.deviceId,\n              kind: device.kind,\n              label: device.label\n            });\n          }\n        });\n        this.setState(prevState => ({\n          listVideos: [...prevState.listVideos, this.videoinput]\n        }));\n      })\n      .catch(function(err) {\n        console.log(`${err.name}: ${err.message}`);\n      });\n  }\n\n  listCameras() {\n    const listMicrophone = this.state.listVideos[0];\n    return (\n      <select\n        disabled={this.state.video !== null}\n        className={styles.selectAudio}\n        value={this.state.value}\n        onChange={this.handleChange}\n      >\n        <option value=\"\">Selecione</option>\n        {listMicrophone.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.label}\n          </option>\n        ))}\n      </select>\n    );\n  }\n\n  stopCamera() {\n    this.state.videoSelect.then(video => {\n      video.getTracks().forEach(track => track.stop());\n    });\n    this.setState({ video: null });\n  }\n\n  toggleCamera() {\n    if (this.state.video) {\n      this.stopCamera();\n    } else {\n      this.getCamera();\n    }\n  }\n\n  getCamera() {\n    if (this.state.videoSelect) {\n      this.state.videoSelect.then(stream => {\n        this.handleUserMedia(stream);\n      });\n    }\n  }\n\n  handleUserMedia(stream) {\n    this.stream = stream;\n    this.setState({ video: true });\n    try {\n      this.player.srcObject = stream;\n    } catch (error) {\n      this.setState({\n        src: window.URL.createObjectURL(stream)\n      });\n    }\n  }\n\n  render() {\n    // const { text } = this.props;\n    return (\n      <Fragment>\n        <div className={`column column-33 ${styles.marginRight}`}>\n          <div className=\"column\">\n            <form action=\"javascript:void(0);\">\n              <fieldset>\n                <label htmlFor=\"microphone\">Selecione a câmera:</label>\n                {this.state.listVideos.length > 0 && this.listCameras()}\n                <button\n                  className=\"button button-outline\"\n                  onClick={this.toggleCamera}\n                  type=\"button\"\n                >\n                  {this.state.video ? 'Parar câmera' : 'Teste sua câmera'}\n                </button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n        <div className=\"column column-33\">\n          <video\n            autoPlay\n            width=\"440\"\n            height=\"300\"\n            src={this.state.src}\n            muted={false}\n            playsInline\n            ref={this.elementRef}\n            className={\n              this.state.video\n                ? `${styles.active} ${styles.backgroundCamera}`\n                : styles.hide\n            }\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport styles from './../styles.css';\n\nexport default class Error extends Component {\n  render () {\n    return (\n      <div className={`column column-33 ${styles.marginRight}`}>\n        <p className={`${styles.error}`}>{this.props.text}</p>\n      </div>\n    );\n  }\n}\n","import React, { Component, Fragment } from 'react';\n\n// import styles from './../styles.css';\n\nexport default class Audio extends Component {\n  state = {\n    listOutputs: [],\n    output: null,\n    value: '',\n    src: '',\n    constraints: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleOutput = this.toggleOutput.bind(this);\n  }\n\n  audioOutput = [];\n  elementRef = new React.createRef();\n  enumerateDevices = new Promise(resolve => {\n    resolve(navigator.mediaDevices.enumerateDevices());\n  });\n\n  componentDidMount() {\n    this.playerAudio = this.elementRef.current;\n\n    this.enumerateDevices\n      .then(devices => {\n        devices.map(device => {\n          if (device.kind == 'audiooutput') {\n            this.audioOutput.push({\n              id: device.deviceId,\n              kind: device.kind,\n              label: device.label\n            });\n          }\n        });\n\n        this.setState(prevState => ({\n          listOutputs: [...prevState.listOutputs, this.audioOutput]\n        }));\n\n        if (this.props.kindId) {\n          this.setState({ output: true });\n\n          let constraints = {\n            audio: {\n              deviceId: this.audioOutput[0].id\n            },\n            video: false\n          };\n\n          this.setState({\n            outputSelect: navigator.mediaDevices.getUserMedia(constraints)\n          });\n          this.state.outputSelect.then(stream => {\n            this.handleUserMedia(stream);\n          });\n        }\n      })\n      .catch(function(err) {\n        console.log(`${err.name}: ${err.message}`);\n      });\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value,\n      output: false\n    });\n\n    this.changeOutPut(event.target.value);\n  }\n\n  changeOutPut(idSelected) {\n    let constraints;\n    if (\n      typeof this.playerAudio.sinkId !== 'undefined' &&\n      this.state.outputSelect\n    ) {\n      constraints = {\n        audio: {\n          deviceId: this.props.kindId\n        },\n        video: false\n      };\n\n      this.playerAudio.setSinkId(idSelected).then(() => {\n        console.log(`Success, audio output device attached: ${idSelected}`);\n      });\n    } else {\n      constraints = {\n        audio: {\n          deviceId: this.props.kindId\n        },\n        video: false\n      };\n    }\n\n    this.setState({\n      outputSelect: navigator.mediaDevices.getUserMedia(constraints)\n    });\n  }\n\n  listOutputs() {\n    const listOutputs = this.state.listOutputs[0];\n    return (\n      <select\n        required\n        disabled={this.state.output !== null}\n        value={this.state.value}\n        onChange={this.handleChange}\n      >\n        {listOutputs.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.label}\n          </option>\n        ))}\n      </select>\n    );\n  }\n\n  stopOutput() {\n    this.state.outputSelect.then(output => {\n      output.getTracks().forEach(track => track.stop());\n    });\n    this.setState({ output: null });\n  }\n\n  toggleOutput() {\n    if (this.state.output) {\n      this.stopOutput();\n    } else {\n      this.getOutput();\n    }\n  }\n\n  getOutput() {\n    if (this.state.outputSelect) {\n      this.state.outputSelect.then(stream => {\n        this.handleUserMedia(stream);\n      });\n    }\n  }\n\n  handleUserMedia(stream) {\n    console.log(stream);\n    this.stream = stream;\n    this.setState({ output: true });\n    try {\n      this.playerAudio.srcObject = stream;\n    } catch (error) {\n      this.setState({\n        src: window.URL.createObjectURL(stream)\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className={`column column-33`}>\n          <div className=\"column\">\n            <form action=\"javascript:void(0);\">\n              <fieldset>\n                <label htmlFor=\"microphone\">Verifique o seu audio:</label>\n                {this.state.listOutputs.length > 0 && this.listOutputs()}\n                <button\n                  className=\"button button-outline\"\n                  onClick={this.toggleOutput}\n                  type=\"button\"\n                >\n                  {this.state.output ? 'Parar audio' : 'Testar audio'}\n                </button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n        <div className=\"column column-33\">\n          <audio\n            controlsList=\"nodownload\"\n            preload=\"auto\"\n            playsInline\n            autoPlay\n            controls\n            src={this.state.src}\n            ref={this.elementRef}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\n","import React, { Component, Fragment } from 'react';\nimport Microphone from './Microphone/microphone';\n\nimport styles from './styles.css';\n// import 'milligram/dist/milligram.css';\nimport Camera from './Camera/Camera';\nimport Error from './Error/Error';\nimport Audio from './Audio/Audio';\n\nexport default class WebRtcTestComponent extends Component {\n  state = {\n    permissionMic: true,\n    permissionCam: true,\n    kindId: null\n  };\n\n  componentDidMount() {\n    navigator.mediaDevices\n      .getUserMedia({\n        audio: false,\n        video: true\n      })\n      .catch(() => {\n        this.setState({\n          permissionCam: false\n        });\n      });\n    navigator.mediaDevices\n      .getUserMedia({\n        audio: true,\n        video: false\n      })\n      .catch(() => {\n        this.setState({\n          permissionMic: false\n        });\n      });\n  }\n\n  changeKindId(kindId) {\n    this.setState({ kindId });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className={`container ${styles.app}`}>\n          <div className={`row`}>\n            {this.state.permissionMic ? (\n              <Microphone changeKindId={kindId => this.changeKindId(kindId)} />\n            ) : (\n              <Error\n                text={'Infelizmente não conseguimos detectar seu microfone'}\n              />\n            )}\n          </div>\n          <div className={`row`}>\n            {this.state.permissionCam ? (\n              <Camera />\n            ) : (\n              <Error\n                text={'Infelizmente não conseguimos detectar sua câmera'}\n              />\n            )}\n          </div>\n        </div>\n        <div className={`container ${styles.app} ${styles.topAudio}`}>\n          <div className={`row`}>\n            {this.state.kindId && <Audio kindId={this.state.kindId} />}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n"],"names":["AudioVisualiser","props","canvas","React","createRef","draw","audioData","current","height","width","context","getContext","x","sliceWidth","length","lineWidth","strokeStyle","clearRect","beginPath","moveTo","item","y","lineTo","stroke","styles","canvasAudio","Component","AudioAnalyser","state","Uint8Array","tick","bind","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","dataArray","frequencyBinCount","audio","then","source","createMediaStreamSource","result","connect","rafId","requestAnimationFrame","getByteTimeDomainData","setState","disconnect","boxCanvas","Microphone","audioinput","elementRef","enumerateDevices","Promise","navigator","mediaDevices","toggleMicrophone","handleChange","event","constraints","target","value","exact","undefined","changeKindId","getUserMedia","map","device","kind","push","deviceId","label","prevState","listAudios","catch","err","log","name","message","audioSelect","getTracks","forEach","track","stop","stopMicrophone","getMicrophone","listMicrophone","selectAudio","id","marginRight","listMicrophones","Camera","videoinput","player","toggleCamera","video","listVideos","videoSelect","stopCamera","getCamera","handleUserMedia","stream","srcObject","error","URL","createObjectURL","listCameras","src","active","backgroundCamera","hide","Error","text","Audio","audioOutput","toggleOutput","playerAudio","listOutputs","kindId","output","outputSelect","changeOutPut","idSelected","sinkId","setSinkId","stopOutput","getOutput","WebRtcTestComponent","app","permissionMic","permissionCam","topAudio"],"mappings":"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"}